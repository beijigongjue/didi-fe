###嘀嘀打车通用版Webapp对外接入技术文档

####通用版webapp背景

	合作商家越来越多，为每个商家单独开发webapp劳命伤财，所以推出通用版webapp，让更多的合作方轻松接入嘀嘀打车服务。

####文档目的

	方便合作方接入嘀嘀打车服务时有据可查；


####接入方式

	以Url链接的形式接入；

####接口类型

1. 简易接口（不推荐使用）
	
		http://diditaxi.com.cn/api/v2/webapp?channel=1210&d=130002030203

2. 高级接口

        http://diditaxi.com.cn/api/v2/webapp?city=北京&maptype=wgs84&fromlat=39.98096907577634&fromlng= 116.30000865410719&fromaddr=银科大厦&toaddr=上地&toshop=&channel=1210&d=130002030203


####接口参数说明

1. 简易接口（2个参数）
	
	d
	
		* 解释：表示时间戳，用来强制刷新页面；
		* 是否必需：否；
		* 是否建议：是；
       
   channel
   
		* 解释：渠道号，方便做数据统计，以及某些功能的定制；
		* 是否必须：是；
       
2. 高级接口（9个参数）

     d
     
		* 解释：表示时间戳，用来强制刷新页面；
		* 是否必需：否；
		* 是否建议：是；

     channel
     
		* 解释：渠道号，方便做数据统计，以及某些功能的定制；
		* 是否必须：是；
       
     city
     
		* 解释：城市名称（如北京），方便获取sug
		* 是否必需：否
		* 是否建议：是
       
     maptype
     
		* 解释：经纬度类型，wgs84｜baidu｜soso三种
		* 是否必需：是
       
     fromlat
     
		* 解释：出发地的纬度
		* 是否必需：是
       
     fromlng
     
		* 解释：出发地的精度
		* 是否必需：是
       
     fromaddr
     
		* 解释：出发地的地址，如北京市海淀区中关村大街11号
		* 是否必需：否
		* 是否建议：是
       
     toaddr
     
		* 解释：目的地地址，如北京市海淀区中关村大街11号
		* 是否必须：否
		* 是否建议：是
       
     toshop
     
		* 解释：目的地的商户名，也就是目的的显示名称，如银科大厦，而不是苏州街多少多少号，对应小桔的displayname；
		* 是否必须：否
		* 是否建议：是

####简易/高级优缺点

1. 简易接口－－不推荐使用，产品体验有一定的折扣    
      
		优点：接入方便，对于合作方几乎没有工作量，只需要在入口处加入链接即可；
		缺点：采用原生H5访问浏览器接口进行定位成功率不够，影响打车体验；

2. 高级接口

		优点：借助第三方native app定位成功率高，体验好；
        缺点：合作方需要开发一定的量；


####建议

	－ 建议第三方商户使用高级接口，否则在低端安卓机器上定位失败将出现致命性体验！
	－ 每次从第三方App进入打车的主页面都发送请求而不是使用app的缓存。

