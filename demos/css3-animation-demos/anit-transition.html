<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	<title>Transition</title>
	<link rel="stylesheet" type="text/css" href="../base.css">
	<style type="text/css">
	body{ background-color: #d7d7d7; }
	.main1{ background-color: #d7d7d7; height: 100%; opacity: 1;transition:opacity 1s; }
	.animation{ background-color: #ff8a01; display: inline-block; height: 480px; width: 272px; position:relative; left:-85%; opacity: 1; transition: transform 1s,opacity 1s ; /*transition: width 2s; */}
	.left-transi{ transform: translate3D(500px,0,0); /*opacity: 0.6; *//*width: 500px; */}
	.opacity-transi{ opacity: 0.5; }
	</style>
</head>
<body>
<div class="main1">
	<div class="animation">哈哈好</div>
</div>
<script type="text/javascript">
	window.addEventListener("DOMContentLoaded",function(ev){

		var div = null, main= null;
		if(document.getElementsByClassName){
			console.log("Support!");
			div = document.getElementsByClassName("animation")[0];
			main = document.getElementsByClassName("main1")[0];
		}else{
			console.log("Don't support");
			return;
		}

		/**
		 * 触发动画
		 * @param  {[type]} ev [description]
		 * @return {[type]}    [description]
		 */
		div.addEventListener('click',function(ev){
			ev.target.className = "animation left-transi";
			setTimeout(function(){
				main.className = "main1 opacity-transi";
			},1000);
		},false);

	},false);
</script>
</body>
</html>